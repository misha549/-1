<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>–ö–æ—Ä–∑–∏–Ω–∞</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
<header>
  <div class="logo">üçï Sushi&amp;Pizza</div>
  <div class="cart">
    <a href="index.html" style="text-decoration: none; color: inherit;">‚Üê –ù–∞–∑–∞–¥</a>
  </div>
</header>

<div class="cart-page">
  <h2>üõí –í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞</h2>
  <ul id="cart-items" class="cart-items"></ul>
  <div class="cart-summary">
    <input type="text" id="user-name" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è">
    <div class="total">–ò—Ç–æ–≥–æ: <span id="cart-sum">0 ‚ÇΩ</span></div>
    <button id="checkout-btn">–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</button>
  </div>
</div>

<script>
  const items = JSON.parse(localStorage.getItem("cart") || "[]");
  const list = document.getElementById("cart-items");
  const sumElem = document.getElementById("cart-sum");

  let total = 0;
  items.forEach(item => {
    const li = document.createElement("li");
    li.textContent = `${item.name} ‚Äî ${item.price.toLocaleString('ru-RU')} ‚ÇΩ`;
    list.appendChild(li);
    total += item.price;
  });
  sumElem.textContent = `${total.toLocaleString('ru-RU')} ‚ÇΩ`;

  document.getElementById("checkout-btn").addEventListener("click", () => {
  const name = document.getElementById("user-name").value.trim();
  if (!name) {
    alert("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è.");
    return;
  }
  alert(`–°–ø–∞—Å–∏–±–æ, ${name}! –í–∞—à –∑–∞–∫–∞–∑ –Ω–∞ —Å—É–º–º—É ${total.toLocaleString('ru-RU')} ‚ÇΩ –æ—Ñ–æ—Ä–º–ª–µ–Ω.`);
  localStorage.removeItem("cart");
  localStorage.removeItem("cartTotal");
  location.href = "index.html";
});
</script>
</body>
</html>
